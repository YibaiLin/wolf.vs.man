<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>judge</title>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/judge.css">
</head>
<body>
<header>法官日记</header>
<main></main>
<footer><button id="beginGame" class="fbutton">开始游戏</button></footer>
<script src="../jQuery/jquery-3.2.1.js"></script>
<script src="../bootstrap/js/bootstrap.min.js"></script>
<script >
    $(document).ready(function() {
        var allPlayers = sessionStorage.all;
        var all = JSON.parse(allPlayers);
        console.log(all);
        var play="";//生成玩家dom元素
        var oStatus=[];//保存所有玩家对象的数组
        var statusAll='';//保存所有玩家对象的字符串

        for (var i = 0; i < all.length; i++) {
            play += "<div class='box'>" + "<div class='anniu'>" + "<span class='span1'>" + all[i] + "</span> "
                    + "<span class='span2'>" + (i + 1) + "号" + "</span>" + "</div>" + "</div>";
            oStatus[i] = {};//数组中的每个元素（即每个玩家）都是对象
            oStatus[i].num = i + 1; //定义保存玩家号码的属性
            oStatus[i].identity = all[i];//定义保存玩家身份的属性
            oStatus[i].status = "alive";//定义保存玩家状态的属性
            oStatus[i].day = 1;
            oStatus[i].records = 0;
            oStatus[i].winner = "";
            console.log(oStatus);
            statusAll = JSON.stringify(oStatus);
            sessionStorage.oStatus = statusAll;
            $("main").eq(0).html(play);
        }

        $("#beginGame").click(function () {
            location.href="../html/before.html";
        });
    });
</script>
</body>
</html>